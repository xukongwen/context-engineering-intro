name: "å¤šä»£ç†ç³»ç»Ÿï¼šç ”ç©¶ä»£ç†ä¸ç”µå­é‚®ä»¶è‰ç¨¿å­ä»£ç†"
description: |

## ç›®çš„
æ„å»ºä¸€ä¸ª Pydantic AI å¤šä»£ç†ç³»ç»Ÿï¼Œå…¶ä¸­ä¸»ç ”ç©¶ä»£ç†ä½¿ç”¨ Brave æœç´¢ APIï¼Œå¹¶æœ‰ä¸€ä¸ªç”µå­é‚®ä»¶è‰ç¨¿ä»£ç†ï¼ˆä½¿ç”¨ Gmail APIï¼‰ä½œä¸ºå·¥å…·ã€‚è¿™æ¼”ç¤ºäº†å¸¦æœ‰å¤–éƒ¨ API é›†æˆçš„ä»£ç†ä½œä¸ºå·¥å…·çš„æ¨¡å¼ã€‚

## æ ¸å¿ƒåŸåˆ™
1. **ä¸Šä¸‹æ–‡ä¸ºç‹**ï¼šåŒ…å«æ‰€æœ‰å¿…è¦çš„æ–‡æ¡£ã€ç¤ºä¾‹å’Œæ³¨æ„äº‹é¡¹
2. **éªŒè¯å¾ªç¯**ï¼šæä¾› AI å¯ä»¥è¿è¡Œå’Œä¿®å¤çš„å¯æ‰§è¡Œæµ‹è¯•/ä»£ç æ£€æŸ¥
3. **ä¿¡æ¯å¯†é›†**ï¼šä½¿ç”¨ä»£ç åº“ä¸­çš„å…³é”®å­—å’Œæ¨¡å¼
4. **é€æ­¥æˆåŠŸ**ï¼šä»ç®€å•å¼€å§‹ï¼ŒéªŒè¯ï¼Œç„¶åå¢å¼º

---

## ç›®æ ‡
åˆ›å»ºä¸€ä¸ªç”Ÿäº§å°±ç»ªçš„å¤šä»£ç†ç³»ç»Ÿï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ CLI ç ”ç©¶ä¸»é¢˜ï¼Œç ”ç©¶ä»£ç†å¯ä»¥å°†ç”µå­é‚®ä»¶èµ·è‰ä»»åŠ¡å§”æ‰˜ç»™ç”µå­é‚®ä»¶è‰ç¨¿ä»£ç†ã€‚ç³»ç»Ÿåº”æ”¯æŒå¤šä¸ª LLM æä¾›å•†å¹¶å®‰å…¨åœ°å¤„ç† API è®¤è¯ã€‚

## ä¸ºä»€ä¹ˆ
- **å•†ä¸šä»·å€¼**ï¼šè‡ªåŠ¨åŒ–ç ”ç©¶å’Œç”µå­é‚®ä»¶èµ·è‰å·¥ä½œæµç¨‹
- **é›†æˆ**ï¼šæ¼”ç¤ºé«˜çº§ Pydantic AI å¤šä»£ç†æ¨¡å¼
- **è§£å†³çš„é—®é¢˜**ï¼šå‡å°‘åŸºäºç ”ç©¶çš„ç”µå­é‚®ä»¶é€šä¿¡çš„æ‰‹åŠ¨å·¥ä½œ

## æ˜¯ä»€ä¹ˆ
ä¸€ä¸ªåŸºäº CLI çš„åº”ç”¨ç¨‹åºï¼Œå…¶ä¸­ï¼š
- ç”¨æˆ·è¾“å…¥ç ”ç©¶æŸ¥è¯¢
- ç ”ç©¶ä»£ç†ä½¿ç”¨ Brave API è¿›è¡Œæœç´¢
- ç ”ç©¶ä»£ç†å¯ä»¥è°ƒç”¨ç”µå­é‚®ä»¶è‰ç¨¿ä»£ç†åˆ›å»º Gmail è‰ç¨¿
- ç»“æœå®æ—¶æµå¼ä¼ è¾“å›ç”¨æˆ·

### æˆåŠŸæ ‡å‡†
- [ ] ç ”ç©¶ä»£ç†æˆåŠŸé€šè¿‡ Brave API æœç´¢
- [ ] ç”µå­é‚®ä»¶ä»£ç†ä½¿ç”¨é€‚å½“çš„è®¤è¯åˆ›å»º Gmail è‰ç¨¿
- [ ] ç ”ç©¶ä»£ç†å¯ä»¥å°†ç”µå­é‚®ä»¶ä»£ç†ä½œä¸ºå·¥å…·è°ƒç”¨
- [ ] CLI æä¾›å¸¦æœ‰å·¥å…·å¯è§æ€§çš„æµå¼å“åº”
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡ä¸”ä»£ç ç¬¦åˆè´¨é‡æ ‡å‡†

## æ‰€éœ€çš„å…¨éƒ¨ä¸Šä¸‹æ–‡

### æ–‡æ¡£ä¸å‚è€ƒ
```yaml
# å¿…è¯» - åœ¨ä½ çš„ä¸Šä¸‹æ–‡çª—å£ä¸­åŒ…å«è¿™äº›
- url: https://ai.pydantic.dev/agents/
  why: æ ¸å¿ƒä»£ç†åˆ›å»ºæ¨¡å¼
  
- url: https://ai.pydantic.dev/multi-agent-applications/
  why: å¤šä»£ç†ç³»ç»Ÿæ¨¡å¼ï¼Œç‰¹åˆ«æ˜¯ä»£ç†ä½œä¸ºå·¥å…·
  
- url: https://developers.google.com/gmail/api/guides/sending
  why: Gmail API è®¤è¯å’Œè‰ç¨¿åˆ›å»º
  
- url: https://api-dashboard.search.brave.com/app/documentation
  why: Brave æœç´¢ API REST ç«¯ç‚¹
  
- file: examples/agent/agent.py
  why: ä»£ç†åˆ›å»ºã€å·¥å…·æ³¨å†Œã€ä¾èµ–é¡¹çš„æ¨¡å¼
  
- file: examples/agent/providers.py
  why: å¤šæä¾›å•† LLM é…ç½®æ¨¡å¼
  
- file: examples/cli.py
  why: å¸¦æœ‰æµå¼å“åº”å’Œå·¥å…·å¯è§æ€§çš„ CLI ç»“æ„

- url: https://github.com/googleworkspace/python-samples/blob/main/gmail/snippet/send%20mail/create_draft.py
  why: å®˜æ–¹ Gmail è‰ç¨¿åˆ›å»ºç¤ºä¾‹
```

### å½“å‰ä»£ç åº“æ ‘
```bash
.
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ agent/
â”‚   â”‚   â”œâ”€â”€ agent.py
â”‚   â”‚   â”œâ”€â”€ providers.py
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ cli.py
â”œâ”€â”€ PRPs/
â”‚   â””â”€â”€ templates/
â”‚       â””â”€â”€ prp_base.md
â”œâ”€â”€ INITIAL.md
â”œâ”€â”€ CLAUDE.md
â””â”€â”€ requirements.txt
```

### æœŸæœ›çš„ä»£ç åº“æ ‘åŠè¦æ·»åŠ çš„æ–‡ä»¶
```bash
.
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ __init__.py               # åŒ…åˆå§‹åŒ–
â”‚   â”œâ”€â”€ research_agent.py         # å¸¦æœ‰ Brave æœç´¢çš„ä¸»ä»£ç†
â”‚   â”œâ”€â”€ email_agent.py           # å¸¦æœ‰ Gmail åŠŸèƒ½çš„å­ä»£ç†
â”‚   â”œâ”€â”€ providers.py             # LLM æä¾›å•†é…ç½®
â”‚   â””â”€â”€ models.py                # ç”¨äºæ•°æ®éªŒè¯çš„ Pydantic æ¨¡å‹
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ __init__.py              # åŒ…åˆå§‹åŒ–
â”‚   â”œâ”€â”€ brave_search.py          # Brave æœç´¢ API é›†æˆ
â”‚   â””â”€â”€ gmail_tool.py            # Gmail API é›†æˆ
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ __init__.py              # åŒ…åˆå§‹åŒ–
â”‚   â””â”€â”€ settings.py              # ç¯å¢ƒå’Œé…ç½®ç®¡ç†
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ __init__.py              # åŒ…åˆå§‹åŒ–
â”‚   â”œâ”€â”€ test_research_agent.py   # ç ”ç©¶ä»£ç†æµ‹è¯•
â”‚   â”œâ”€â”€ test_email_agent.py      # ç”µå­é‚®ä»¶ä»£ç†æµ‹è¯•
â”‚   â”œâ”€â”€ test_brave_search.py     # Brave æœç´¢å·¥å…·æµ‹è¯•
â”‚   â”œâ”€â”€ test_gmail_tool.py       # Gmail å·¥å…·æµ‹è¯•
â”‚   â””â”€â”€ test_cli.py              # CLI æµ‹è¯•
â”œâ”€â”€ cli.py                       # CLI ç•Œé¢
â”œâ”€â”€ .env.example                 # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ requirements.txt             # æ›´æ–°çš„ä¾èµ–é¡¹
â”œâ”€â”€ README.md                    # å…¨é¢çš„æ–‡æ¡£
â””â”€â”€ credentials/.gitkeep         # Gmail å‡­æ®ç›®å½•
```

### å·²çŸ¥é™·é˜±å’Œåº“æ€ªç™–
```python
# å…³é”®ï¼šPydantic AI å…¨ç¨‹éœ€è¦å¼‚æ­¥ - å¼‚æ­¥ä¸Šä¸‹æ–‡ä¸­ä¸è¦ä½¿ç”¨åŒæ­¥å‡½æ•°
# å…³é”®ï¼šGmail API é¦–æ¬¡è¿è¡Œéœ€è¦ OAuth2 æµç¨‹ - éœ€è¦ credentials.json
# å…³é”®ï¼šBrave API æœ‰é€Ÿç‡é™åˆ¶ - å…è´¹å±‚æ¯æœˆ 2000 ä¸ªè¯·æ±‚
# å…³é”®ï¼šä»£ç†ä½œä¸ºå·¥å…·æ¨¡å¼éœ€è¦ä¼ é€’ ctx.usage ç”¨äºä»¤ç‰Œè·Ÿè¸ª
# å…³é”®ï¼šGmail è‰ç¨¿éœ€è¦ä½¿ç”¨é€‚å½“çš„ MIME æ ¼å¼è¿›è¡Œ base64 ç¼–ç 
# å…³é”®ï¼šå§‹ç»ˆä½¿ç”¨ç»å¯¹å¯¼å…¥ä»¥è·å¾—æ›´æ¸…æ™°çš„ä»£ç 
# å…³é”®ï¼šå°†æ•æ„Ÿå‡­æ®å­˜å‚¨åœ¨ .env ä¸­ï¼Œæ°¸è¿œä¸è¦æäº¤å®ƒä»¬
```

## å®æ–½è“å›¾

### æ•°æ®æ¨¡å‹å’Œç»“æ„

```python
# models.py - æ ¸å¿ƒæ•°æ®ç»“æ„
from pydantic import BaseModel, Field
from typing import List, Optional
from datetime import datetime

class ResearchQuery(BaseModel):
    query: str = Field(..., description="è¦è°ƒæŸ¥çš„ç ”ç©¶ä¸»é¢˜")
    max_results: int = Field(10, ge=1, le=50)
    include_summary: bool = Field(True)

class BraveSearchResult(BaseModel):
    title: str
    url: str
    description: str
    score: float = Field(0.0, ge=0.0, le=1.0)

class EmailDraft(BaseModel):
    to: List[str] = Field(..., min_items=1)
    subject: str = Field(..., min_length=1)
    body: str = Field(..., min_length=1)
    cc: Optional[List[str]] = None
    bcc: Optional[List[str]] = None

class ResearchEmailRequest(BaseModel):
    research_query: str
    email_context: str = Field(..., description="ç”µå­é‚®ä»¶ç”Ÿæˆçš„ä¸Šä¸‹æ–‡")
    recipient_email: str
```

### è¦å®Œæˆçš„ä»»åŠ¡åˆ—è¡¨

```yaml
ä»»åŠ¡ 1ï¼šè®¾ç½®é…ç½®å’Œç¯å¢ƒ
åˆ›å»º config/settings.pyï¼š
  - æ¨¡å¼ï¼šåƒç¤ºä¾‹ä½¿ç”¨ os.getenv ä¸€æ ·ä½¿ç”¨ pydantic-settings
  - åŠ è½½å¸¦æœ‰é»˜è®¤å€¼çš„ç¯å¢ƒå˜é‡
  - éªŒè¯æ‰€éœ€çš„ API å¯†é’¥å­˜åœ¨

åˆ›å»º .env.exampleï¼š
  - åŒ…å«æ‰€æœ‰å¿…éœ€çš„ç¯å¢ƒå˜é‡åŠå…¶æè¿°
  - éµå¾ª examples/README.md çš„æ¨¡å¼

ä»»åŠ¡ 2ï¼šå®ç° Brave æœç´¢å·¥å…·
åˆ›å»º tools/brave_search.pyï¼š
  - æ¨¡å¼ï¼šåƒ examples/agent/tools.py ä¸€æ ·çš„å¼‚æ­¥å‡½æ•°
  - ä½¿ç”¨ httpx çš„ç®€å• REST å®¢æˆ·ç«¯ï¼ˆå·²åœ¨ requirements ä¸­ï¼‰
  - ä¼˜é›…åœ°å¤„ç†é€Ÿç‡é™åˆ¶å’Œé”™è¯¯
  - è¿”å›ç»“æ„åŒ–çš„ BraveSearchResult æ¨¡å‹

ä»»åŠ¡ 3ï¼šå®ç° Gmail å·¥å…·
åˆ›å»º tools/gmail_tool.pyï¼š
  - æ¨¡å¼ï¼šéµå¾ª Gmail å¿«é€Ÿå…¥é—¨çš„ OAuth2 æµç¨‹
  - å°† token.json å­˜å‚¨åœ¨ credentials/ ç›®å½•ä¸­
  - ä½¿ç”¨é€‚å½“çš„ MIME ç¼–ç åˆ›å»ºè‰ç¨¿
  - è‡ªåŠ¨å¤„ç†è®¤è¯åˆ·æ–°

ä»»åŠ¡ 4ï¼šåˆ›å»ºç”µå­é‚®ä»¶è‰ç¨¿ä»£ç†
åˆ›å»º agents/email_agent.pyï¼š
  - æ¨¡å¼ï¼šéµå¾ª examples/agent/agent.py ç»“æ„
  - ä½¿ç”¨å¸¦æœ‰ deps_type æ¨¡å¼çš„ Agent
  - å°† gmail_tool æ³¨å†Œä¸º @agent.tool
  - è¿”å› EmailDraft æ¨¡å‹

ä»»åŠ¡ 5ï¼šåˆ›å»ºç ”ç©¶ä»£ç†
åˆ›å»º agents/research_agent.pyï¼š
  - æ¨¡å¼ï¼šæ¥è‡ª Pydantic AI æ–‡æ¡£çš„å¤šä»£ç†æ¨¡å¼
  - å°† brave_search æ³¨å†Œä¸ºå·¥å…·
  - å°† email_agent.run() æ³¨å†Œä¸ºå·¥å…·
  - ä½¿ç”¨ RunContext è¿›è¡Œä¾èµ–æ³¨å…¥

ä»»åŠ¡ 6ï¼šå®ç° CLI ç•Œé¢
åˆ›å»º cli.pyï¼š
  - æ¨¡å¼ï¼šéµå¾ª examples/cli.py æµå¼æ¨¡å¼
  - å¸¦æœ‰å·¥å…·å¯è§æ€§çš„å½©è‰²è¾“å‡º
  - ä½¿ç”¨ asyncio.run() æ­£ç¡®å¤„ç†å¼‚æ­¥
  - å¯¹è¯ä¸Šä¸‹æ–‡çš„ä¼šè¯ç®¡ç†

ä»»åŠ¡ 7ï¼šæ·»åŠ å…¨é¢çš„æµ‹è¯•
åˆ›å»º tests/ï¼š
  - æ¨¡å¼ï¼šé•œåƒç¤ºä¾‹æµ‹è¯•ç»“æ„
  - æ¨¡æ‹Ÿå¤–éƒ¨ API è°ƒç”¨
  - æµ‹è¯•æ­£å¸¸è·¯å¾„ã€è¾¹ç¼˜æ¡ˆä¾‹ã€é”™è¯¯
  - ç¡®ä¿ 80%+ è¦†ç›–ç‡

ä»»åŠ¡ 8ï¼šåˆ›å»ºæ–‡æ¡£
åˆ›å»º README.mdï¼š
  - æ¨¡å¼ï¼šéµå¾ª examples/README.md ç»“æ„
  - åŒ…æ‹¬è®¾ç½®ã€å®‰è£…ã€ä½¿ç”¨
  - API å¯†é’¥é…ç½®æ­¥éª¤
  - æ¶æ„å›¾
```

### æ¯ä¸ªä»»åŠ¡çš„ä¼ªä»£ç 

```python
# ä»»åŠ¡ 2ï¼šBrave æœç´¢å·¥å…·
async def search_brave(query: str, api_key: str, count: int = 10) -> List[BraveSearchResult]:
    # æ¨¡å¼ï¼šåƒç¤ºä¾‹ä½¿ç”¨ aiohttp ä¸€æ ·ä½¿ç”¨ httpx
    async with httpx.AsyncClient() as client:
        headers = {"X-Subscription-Token": api_key}
        params = {"q": query, "count": count}
        
        # é™·é˜±ï¼šå¦‚æœ API å¯†é’¥æ— æ•ˆï¼ŒBrave API è¿”å› 401
        response = await client.get(
            "https://api.search.brave.com/res/v1/web/search",
            headers=headers,
            params=params,
            timeout=30.0  # å…³é”®ï¼šè®¾ç½®è¶…æ—¶ä»¥é¿å…æŒ‚èµ·
        )
        
        # æ¨¡å¼ï¼šç»“æ„åŒ–é”™è¯¯å¤„ç†
        if response.status_code != 200:
            raise BraveAPIError(f"API è¿”å› {response.status_code}")
        
        # ä½¿ç”¨ Pydantic è§£æå’ŒéªŒè¯
        data = response.json()
        return [BraveSearchResult(**result) for result in data.get("web", {}).get("results", [])]

# ä»»åŠ¡ 5ï¼šå°†ç”µå­é‚®ä»¶ä»£ç†ä½œä¸ºå·¥å…·çš„ç ”ç©¶ä»£ç†
@research_agent.tool
async def create_email_draft(
    ctx: RunContext[AgentDependencies],
    recipient: str,
    subject: str,
    context: str
) -> str:
    """åŸºäºç ”ç©¶ä¸Šä¸‹æ–‡åˆ›å»ºç”µå­é‚®ä»¶è‰ç¨¿ã€‚"""
    # å…³é”®ï¼šä¼ é€’ç”¨äºä»¤ç‰Œè·Ÿè¸ªçš„ä½¿ç”¨æƒ…å†µ
    result = await email_agent.run(
        f"ä¸º {recipient} åˆ›å»ºå…³äºä»¥ä¸‹å†…å®¹çš„ç”µå­é‚®ä»¶ï¼š{context}",
        deps=EmailAgentDeps(subject=subject),
        usage=ctx.usage  # æ¥è‡ªå¤šä»£ç†æ–‡æ¡£çš„æ¨¡å¼
    )
    
    return f"åˆ›å»ºçš„è‰ç¨¿ IDï¼š{result.data}"
```

### é›†æˆç‚¹
```yaml
ç¯å¢ƒï¼š
  - æ·»åŠ åˆ°ï¼š.env
  - å˜é‡ï¼š|
      # LLM é…ç½®
      LLM_PROVIDER=openai
      LLM_API_KEY=sk-...
      LLM_MODEL=gpt-4
      
      # Brave æœç´¢
      BRAVE_API_KEY=BSA...
      
      # Gmailï¼ˆcredentials.json çš„è·¯å¾„ï¼‰
      GMAIL_CREDENTIALS_PATH=./credentials/credentials.json
      
é…ç½®ï¼š
  - Gmail OAuthï¼šé¦–æ¬¡è¿è¡Œä¼šæ‰“å¼€æµè§ˆå™¨è¿›è¡Œæˆæƒ
  - ä»¤ç‰Œå­˜å‚¨ï¼š./credentials/token.jsonï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
  
ä¾èµ–é¡¹ï¼š
  - ä½¿ç”¨ä»¥ä¸‹å†…å®¹æ›´æ–° requirements.txtï¼š
    - google-api-python-client
    - google-auth-httplib2
    - google-auth-oauthlib
```

## éªŒè¯å¾ªç¯

### çº§åˆ« 1ï¼šè¯­æ³•å’Œé£æ ¼
```bash
# é¦–å…ˆè¿è¡Œè¿™äº› - åœ¨ç»§ç»­ä¹‹å‰ä¿®å¤ä»»ä½•é”™è¯¯
ruff check . --fix              # è‡ªåŠ¨ä¿®å¤é£æ ¼é—®é¢˜
mypy .                          # ç±»å‹æ£€æŸ¥

# é¢„æœŸï¼šæ²¡æœ‰é”™è¯¯ã€‚å¦‚æœæœ‰é”™è¯¯ï¼Œé˜…è¯»å¹¶ä¿®å¤ã€‚
```

### çº§åˆ« 2ï¼šå•å…ƒæµ‹è¯•
```python
# test_research_agent.py
async def test_research_with_brave():
    """æµ‹è¯•ç ”ç©¶ä»£ç†æ­£ç¡®æœç´¢"""
    agent = create_research_agent()
    result = await agent.run("AI å®‰å…¨ç ”ç©¶")
    assert result.data
    assert len(result.data) > 0

async def test_research_creates_email():
    """æµ‹è¯•ç ”ç©¶ä»£ç†å¯ä»¥è°ƒç”¨ç”µå­é‚®ä»¶ä»£ç†"""
    agent = create_research_agent()
    result = await agent.run(
        "ç ”ç©¶ AI å®‰å…¨å¹¶ä¸º john@example.com èµ·è‰ç”µå­é‚®ä»¶"
    )
    assert "draft_id" in result.data

# test_email_agent.py  
def test_gmail_authentication(monkeypatch):
    """æµ‹è¯• Gmail OAuth æµç¨‹å¤„ç†"""
    monkeypatch.setenv("GMAIL_CREDENTIALS_PATH", "test_creds.json")
    tool = GmailTool()
    assert tool.service is not None

async def test_create_draft():
    """æµ‹è¯•ä½¿ç”¨é€‚å½“ç¼–ç åˆ›å»ºè‰ç¨¿"""
    agent = create_email_agent()
    result = await agent.run(
        "ä¸º test@example.com åˆ›å»ºå…³äº AI ç ”ç©¶çš„ç”µå­é‚®ä»¶"
    )
    assert result.data.get("draft_id")
```

```bash
# è¿­ä»£è¿è¡Œæµ‹è¯•ç›´åˆ°é€šè¿‡ï¼š
pytest tests/ -v --cov=agents --cov=tools --cov-report=term-missing

# å¦‚æœå¤±è´¥ï¼šè°ƒè¯•ç‰¹å®šæµ‹è¯•ï¼Œä¿®å¤ä»£ç ï¼Œé‡æ–°è¿è¡Œ
```

### çº§åˆ« 3ï¼šé›†æˆæµ‹è¯•
```bash
# æµ‹è¯• CLI äº¤äº’
python cli.py

# é¢„æœŸäº¤äº’ï¼š
# ä½ ï¼šç ”ç©¶æœ€æ–°çš„ AI å®‰å…¨å‘å±•
# ğŸ¤– åŠ©æ‰‹ï¼š[æµå¼ä¼ è¾“ç ”ç©¶ç»“æœ]
# ğŸ›  ä½¿ç”¨çš„å·¥å…·ï¼š
#   1. brave_search (query='AI å®‰å…¨å‘å±•', limit=10)
#
# ä½ ï¼šåˆ›å»ºä¸€ä¸ªå…³äºæ­¤å†…å®¹çš„ç”µå­é‚®ä»¶è‰ç¨¿ç»™ john@example.com  
# ğŸ¤– åŠ©æ‰‹ï¼š[åˆ›å»ºè‰ç¨¿]
# ğŸ›  ä½¿ç”¨çš„å·¥å…·ï¼š
#   1. create_email_draft (recipient='john@example.com', ...)

# æ£€æŸ¥ Gmail è‰ç¨¿æ–‡ä»¶å¤¹ä¸­åˆ›å»ºçš„è‰ç¨¿
```

## æœ€ç»ˆéªŒè¯æ¸…å•
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼š`pytest tests/ -v`
- [ ] æ²¡æœ‰ä»£ç æ£€æŸ¥é”™è¯¯ï¼š`ruff check .`
- [ ] æ²¡æœ‰ç±»å‹é”™è¯¯ï¼š`mypy .`
- [ ] Gmail OAuth æµç¨‹æ­£å¸¸å·¥ä½œï¼ˆæµè§ˆå™¨æ‰“å¼€ï¼Œä»¤ç‰Œä¿å­˜ï¼‰
- [ ] Brave æœç´¢è¿”å›ç»“æœ
- [ ] ç ”ç©¶ä»£ç†æˆåŠŸè°ƒç”¨ç”µå­é‚®ä»¶ä»£ç†
- [ ] CLI æµå¼ä¼ è¾“å¸¦æœ‰å·¥å…·å¯è§æ€§çš„å“åº”
- [ ] ä¼˜é›…åœ°å¤„ç†é”™è¯¯æƒ…å†µ
- [ ] README åŒ…å«æ¸…æ™°çš„è®¾ç½®è¯´æ˜
- [ ] .env.example åŒ…å«æ‰€æœ‰å¿…éœ€çš„å˜é‡

---

## è¦é¿å…çš„åæ¨¡å¼
- âŒ ä¸è¦ç¡¬ç¼–ç  API å¯†é’¥ - ä½¿ç”¨ç¯å¢ƒå˜é‡
- âŒ ä¸è¦åœ¨å¼‚æ­¥ä»£ç†ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨åŒæ­¥å‡½æ•°
- âŒ ä¸è¦è·³è¿‡ Gmail çš„ OAuth æµç¨‹è®¾ç½®
- âŒ ä¸è¦å¿½ç•¥ API çš„é€Ÿç‡é™åˆ¶
- âŒ ä¸è¦å¿˜è®°åœ¨å¤šä»£ç†è°ƒç”¨ä¸­ä¼ é€’ ctx.usage
- âŒ ä¸è¦æäº¤ credentials.json æˆ– token.json æ–‡ä»¶

## ç½®ä¿¡åº¦åˆ†æ•°ï¼š9/10

é«˜ç½®ä¿¡åº¦ç”±äºï¼š
- ä»£ç åº“ä¸­æœ‰æ¸…æ™°çš„ç¤ºä¾‹å¯ä»¥éµå¾ª
- å¤–éƒ¨ API æ–‡æ¡£è¯¦å°½
- å¤šä»£ç†ç³»ç»Ÿçš„æ—¢å®šæ¨¡å¼
- å…¨é¢çš„éªŒè¯é—¨æ§

Gmail OAuth é¦–æ¬¡è®¾ç½®ç”¨æˆ·ä½“éªŒå­˜åœ¨è½»å¾®ä¸ç¡®å®šæ€§ï¼Œä½†æ–‡æ¡£æä¾›äº†æ¸…æ™°çš„æŒ‡å¯¼ã€‚